<mat-card>
  <mat-card-content>
    <form [formGroup]="formGroup">
      <mat-form-field appearance="fill" class="full-width-input">
        <mat-label>Nome</mat-label>
        <input formControlName="nome" matInput type="text">
        <mat-error *ngIf="formGroup.get('nome')
                                   && formGroup.get('nome')?.invalid
                                   && formGroup.get('nome')?.touched">
          O nome é obrigatório.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width-input">
        <mat-label>Categoria</mat-label>
        <mat-select formControlName="categoria">
          @for (categoria of categorias; track categoria) {
            <mat-option [value]="categoria">{{ categoria }}</mat-option>
          }
        </mat-select>
        <mat-error *ngIf="formGroup.get('categoria')
                                   && formGroup.get('categoria')?.invalid
                                   && formGroup.get('categoria')?.touched">
          A categoria é obrigatória.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width-input">
        <mat-label>Preço</mat-label>
        <input formControlName="preco" matInput type="text">
        <mat-error *ngIf="formGroup.get('preco')
                                   && formGroup.get('preco')?.invalid
                                   && formGroup.get('preco')?.touched">
          O preço é obrigatório.
        </mat-error>
      </mat-form-field>

    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button
            color="warn"
            (click)="save()"
            [disabled]="formGroup.invalid">
      Salvar
    </button>
    <button mat-raised-button
            (click)="dialogRef.close()">
      Cancelar
    </button>
  </mat-card-actions>
</mat-card>

